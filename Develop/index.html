<!DOCTYPE html>
<html lang="en">
	<head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Password Generator</title>

        <link rel="stylesheet" type="text/css" href="styles.css">
        <link href="https://fonts.googleapis.com/css?family=Aldrich&display=swap" rel="stylesheet">
	</head>
	<body>

        <header class='header'>
            <h1 class='heading-1'>Password Generator</h1>
        </header>

        <main class='main .column--mobile-12'>
            <!-- <h2 class='heading-2'>Generate a Password</h2> -->
            <div class='check-boxes'>
                <div class='check-lower-case'>
                    <label type='name'>Lowercase</label>
                    <input type='checkbox' class='lowercase' name='lowercases'>
                </div>
                <div class='check-upper-case'>
                    <label type='name'>Uppercase</label>
                    <input type='checkbox' class='uppercase' name='uppercases'>
                </div>
                <div class='check-num'>
                    <label type='name'>Numbers</label>
                    <input type='checkbox' class='number' name='numbers'>
                </div>
                <div class='check-symb'>
                    <label type='name'>Symbols</label>
                    <input type='checkbox' class='symbols' name='symbols'>
                </div>
            </div>

            <br>

            <textarea readonly class='password' placeholder='Your Secure Password' aria-label='Generated Password'></textarea>
            <br>
            <div class='buttons'>
                <button type='button' value='button text' class='generate' onclick='gen()'>Generate Password</button>

                <button type='button' value='button copy' class='copy' onclick='copyToClip()'> Copy to Clipboard </button>
            </div>
        </main>

        <script>

            const lowChar ='abcdefghijklmnopqrstuvwxyz';
            const uppChar = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const num = '0123456789';
            const symb = '!#%&()*+,-.$/:;<=>?@[\]^{|}~';


            let lowerCaseInput = document.querySelector('.lowercase');
            let upperCaseInput = document.querySelector('.uppercase');
            let numBoxInput = document.querySelector('.number');
            let symBoxInput = document.querySelector('.symbols');
            let generate = document.querySelector('.generate');
            let myPass = document.querySelector('.password');
            let copy = document.querySelector('.copy');
            
                

            function gen(){
                pwd = '';
                pwdChar = '';

                passLength = prompt("Please choose the length of your password. Must be between 8 and 128");
                if(passLength >= 8 && passLength <= 128){
                } else {
                    alert("Password length must be between 8 and 128")
                    return;
                }

                if (lowerCaseInput.checked) {
                    pwdChar = pwdChar+lowChar;
                }
                if (upperCaseInput.checked) {
                    pwdChar = pwdChar+uppChar;
                }
                if (numBoxInput.checked) {
                    pwdChar = pwdChar+num;
                }
                if (symBoxInput.checked) {
                    pwdChar = pwdChar+symb;
                }

                for(i=0; i<passLength; i++) {
                    pwd = pwd + pwdChar.charAt(Math.floor(Math.random() * pwdChar.length));
                }

                if (pwd == '') {
                    alert("Please select an option")
                } else {
                    myPass.innerHTML = pwd;
                }
                console.log(pwd)
            }

            function copyToClip(){
                myPass.select();

                document.execCommand('copy');

                alert("Password copied to clipboard");
            }

        </script>

    </body>
    
</html>
